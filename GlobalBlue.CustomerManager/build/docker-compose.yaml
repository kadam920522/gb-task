version: '3.2'

services:  

  customer_manager_db:
    image: postgres
    environment:
      POSTGRES_USER: customer_manager_webapi
      POSTGRES_PASSWORD: customer_manager
      POSTGRES_DB: customer_manager_db
    ports:
      - 5432:5432
    networks:
      - customer-manager-app-network
  
  customer_manager_webapi:
    image: customer-manager-webapi
    ports:
      - 5010:80
    depends_on:
      - customer_manager_db
    networks:
      - customer-manager-app-network
    environment:
      DbConnectionString: "Host=customer_manager_db;port=5432;Database=customer_manager_db;Username=customer_manager_webapi;Password=customer_manager"

networks:
  customer-manager-app-network:
    driver: bridge